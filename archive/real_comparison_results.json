{
  "timestamp": "2025-12-08T23:13:51.407057",
  "description": "Real comparison: Raw LLM vs Tokenomics",
  "baseline_config": {
    "prompt": "system + raw query",
    "max_tokens": 512,
    "temperature": 0.3,
    "optimizations": "none"
  },
  "tokenomics_config": {
    "memory": "exact + semantic cache",
    "compression": "LLM Lingua",
    "routing": "bandit (cheap/balanced/premium)",
    "temperature": "0.2-0.4 by strategy"
  },
  "summary": {
    "total_queries": 15,
    "cache_hits": 6,
    "fresh_queries": 9,
    "token_savings": 133,
    "token_savings_pct": 5.514096185737976,
    "regressions": 4,
    "regression_rate": 44.44444444444444
  },
  "regressions": [
    {
      "query": "What is the refund policy?",
      "total_diff": 21,
      "input_diff": 0,
      "output_diff": 21,
      "strategy": "cheap"
    },
    {
      "query": "How do I cancel my subscription?",
      "total_diff": 12,
      "input_diff": 0,
      "output_diff": 12,
      "strategy": "cheap"
    },
    {
      "query": "Why is my account locked?",
      "total_diff": 32,
      "input_diff": 0,
      "output_diff": 32,
      "strategy": "cheap"
    },
    {
      "query": "I'm having trouble with billing when I try to update my payment method",
      "total_diff": 37,
      "input_diff": 0,
      "output_diff": 37,
      "strategy": "cheap"
    }
  ],
  "improvements": [
    {
      "query": "What payment methods do you accept?",
      "tokens_saved": 1,
      "savings_pct": 0.6993006993006993,
      "strategy": "cheap"
    },
    {
      "query": "How do I contact support?",
      "tokens_saved": 17,
      "savings_pct": 6.995884773662551,
      "strategy": "cheap"
    },
    {
      "query": "My subscription renewal failed and I can't access my account",
      "tokens_saved": 10,
      "savings_pct": 3.787878787878788,
      "strategy": "cheap"
    },
    {
      "query": "Tell me about your refund process",
      "tokens_saved": 10,
      "savings_pct": 3.6101083032490973,
      "strategy": "cheap"
    }
  ],
  "results": [
    {
      "query": "What is the refund policy?",
      "baseline_input": 13,
      "baseline_output": 247,
      "baseline_total": 260,
      "baseline_latency": 6973.9508628845215,
      "optimized_input": 13,
      "optimized_output": 268,
      "optimized_total": 281,
      "optimized_latency": 4550.47345161438,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 21,
      "total_diff": 21,
      "regression": true
    },
    {
      "query": "How do I cancel my subscription?",
      "baseline_input": 14,
      "baseline_output": 219,
      "baseline_total": 233,
      "baseline_latency": 4219.924449920654,
      "optimized_input": 14,
      "optimized_output": 231,
      "optimized_total": 245,
      "optimized_latency": 5419.238090515137,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 12,
      "total_diff": 12,
      "regression": true
    },
    {
      "query": "What payment methods do you accept?",
      "baseline_input": 14,
      "baseline_output": 129,
      "baseline_total": 143,
      "baseline_latency": 2639.6572589874268,
      "optimized_input": 14,
      "optimized_output": 128,
      "optimized_total": 142,
      "optimized_latency": 2717.5233364105225,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": -1,
      "total_diff": -1,
      "regression": false
    },
    {
      "query": "How do I contact support?",
      "baseline_input": 13,
      "baseline_output": 230,
      "baseline_total": 243,
      "baseline_latency": 4123.7053871154785,
      "optimized_input": 13,
      "optimized_output": 213,
      "optimized_total": 226,
      "optimized_latency": 4088.8538360595703,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": -17,
      "total_diff": -17,
      "regression": false
    },
    {
      "query": "Why is my account locked?",
      "baseline_input": 13,
      "baseline_output": 209,
      "baseline_total": 222,
      "baseline_latency": 3737.8618717193604,
      "optimized_input": 13,
      "optimized_output": 241,
      "optimized_total": 254,
      "optimized_latency": 4070.0509548187256,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 32,
      "total_diff": 32,
      "regression": true
    },
    {
      "query": "Can you explain the refund policy?",
      "baseline_input": 0,
      "baseline_output": 0,
      "baseline_total": 0,
      "baseline_latency": 0,
      "optimized_input": 0,
      "optimized_output": 0,
      "optimized_total": 0,
      "optimized_latency": 0,
      "cache_hit": true,
      "cache_type": "semantic_direct",
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    },
    {
      "query": "How can I cancel my subscription?",
      "baseline_input": 0,
      "baseline_output": 0,
      "baseline_total": 0,
      "baseline_latency": 0,
      "optimized_input": 0,
      "optimized_output": 0,
      "optimized_total": 0,
      "optimized_latency": 0,
      "cache_hit": true,
      "cache_type": "semantic_direct",
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    },
    {
      "query": "What methods of payment are supported?",
      "baseline_input": 14,
      "baseline_output": 183,
      "baseline_total": 197,
      "baseline_latency": 3423.252582550049,
      "optimized_input": 106,
      "optimized_output": 130,
      "optimized_total": 236,
      "optimized_latency": 2769.179344177246,
      "cache_hit": true,
      "cache_type": "context",
      "strategy": "cheap",
      "input_diff": 92,
      "output_diff": -53,
      "total_diff": 39,
      "regression": false
    },
    {
      "query": "What is the refund policy?",
      "baseline_input": 0,
      "baseline_output": 0,
      "baseline_total": 0,
      "baseline_latency": 0,
      "optimized_input": 0,
      "optimized_output": 0,
      "optimized_total": 0,
      "optimized_latency": 0,
      "cache_hit": true,
      "cache_type": "semantic_direct",
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    },
    {
      "query": "How do I contact support?",
      "baseline_input": 0,
      "baseline_output": 0,
      "baseline_total": 0,
      "baseline_latency": 0,
      "optimized_input": 0,
      "optimized_output": 0,
      "optimized_total": 0,
      "optimized_latency": 0,
      "cache_hit": true,
      "cache_type": "exact",
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    },
    {
      "query": "I'm having trouble with billing when I try to update my payment method",
      "baseline_input": 20,
      "baseline_output": 257,
      "baseline_total": 277,
      "baseline_latency": 4241.690397262573,
      "optimized_input": 20,
      "optimized_output": 294,
      "optimized_total": 314,
      "optimized_latency": 5229.688405990601,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 37,
      "total_diff": 37,
      "regression": true
    },
    {
      "query": "My subscription renewal failed and I can't access my account",
      "baseline_input": 17,
      "baseline_output": 247,
      "baseline_total": 264,
      "baseline_latency": 4684.0879917144775,
      "optimized_input": 17,
      "optimized_output": 237,
      "optimized_total": 254,
      "optimized_latency": 5108.220338821411,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": -10,
      "total_diff": -10,
      "regression": false
    },
    {
      "query": "I want to upgrade my plan but the payment is being rejected",
      "baseline_input": 19,
      "baseline_output": 277,
      "baseline_total": 296,
      "baseline_latency": 4934.478521347046,
      "optimized_input": 19,
      "optimized_output": 277,
      "optimized_total": 296,
      "optimized_latency": 5446.957349777222,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    },
    {
      "query": "Tell me about your refund process",
      "baseline_input": 13,
      "baseline_output": 264,
      "baseline_total": 277,
      "baseline_latency": 3921.0610389709473,
      "optimized_input": 13,
      "optimized_output": 254,
      "optimized_total": 267,
      "optimized_latency": 5560.198545455933,
      "cache_hit": false,
      "cache_type": null,
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": -10,
      "total_diff": -10,
      "regression": false
    },
    {
      "query": "Steps to cancel my account subscription",
      "baseline_input": 0,
      "baseline_output": 0,
      "baseline_total": 0,
      "baseline_latency": 0,
      "optimized_input": 0,
      "optimized_output": 0,
      "optimized_total": 0,
      "optimized_latency": 0,
      "cache_hit": true,
      "cache_type": "semantic_direct",
      "strategy": "cheap",
      "input_diff": 0,
      "output_diff": 0,
      "total_diff": 0,
      "regression": false
    }
  ]
}